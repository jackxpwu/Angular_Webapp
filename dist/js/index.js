"use strict";var app=angular.module("app",["ui.router","ngAnimate"]);app.controller("essayCtrl",["$scope","$http",function(e,t){t.get("data/essay.json").then(function(t){e.essays=t.data.essay})}]),app.controller("essayDetailCtrl",["$scope","$q","$state","$http",function(e,t,n,a){e.back=function(){window.history.back()},function(){var o=t.defer();a.get("/data/essay.json?id="+n.params.id).then(function(t){console.log(t.data),e.essay=t.data.essay,o.resolve(t)},function(e){o.reject(e)}),o.promise}()}]),app.controller("mainCtrl",["$scope",function(e){}]),app.controller("onesentenceCtrl",["$scope","$http",function(e,t){t.get("/data/onesentence.json").then(function(t){e.items=t.data.onesentence,e.i=0,e.index=0;var n=new Date;e.date=n.getDate(),e.year=n.getFullYear(),e.month=n.getMonth()+1,e.next=function(){e.i>=6||(e.i=++e.i,e.index=e.i,e.prevDate=e.getDay(e.i),e.date=e.prevDate.date,e.year=e.prevDate.year,e.month=e.prevDate.month,console.log(e.i,e.prevDate))},e.prev=function(){e.i<=0||(e.i=--e.i,e.index=e.i,e.nextDate=e.getDay(e.i),e.date=e.nextDate.date,e.year=e.nextDate.year,e.month=e.nextDate.month,console.log(e.i,e.nextDate))},e.getDay=function(e){var t=n.getTime(),a=new Date(t-864e5*e);return a.date=a.getDate(),a.year=a.getFullYear(),a.month=a.getMonth()+1,a}})}]),app.directive("appFoot",[function(){return{restrict:"A",replace:!0,templateUrl:"/view/template/foot.html"}}]),app.directive("appHead",[function(){return{restrict:"A",replace:!0,templateUrl:"/view/template/head.html",link:function(e){e.isShow=!1,e.pop=function(){e.isShow=!e.isShow}}}}]),app.directive("appRegister",[function(){return{restrict:"A",replace:!0,templateUrl:"/view/template/register.html",link:function(e){e.toLogin=!1,e.isToLogin=function(){e.toLogin=!e.toLogin}}}}]),app.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("main",{url:"/main",templateUrl:"/view/main.html",controller:"mainCtrl"}).state("onesentence",{url:"/onesentence",templateUrl:"/view/onesentence.html",controller:"onesentenceCtrl"}).state("essay",{url:"/essay/:id",templateUrl:"/view/essay.html",controller:"essayCtrl"}).state("essayDetail",{url:"/essayDetail/:id",templateUrl:"/view/essayDetail.html",controller:"essayDetailCtrl"}),t.otherwise("main")}]);